<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Geometriando</title>

    <!-- CSS only -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="./assets/css/main.css" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- Leave those next 4 lines if you care about users using IE8 -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
    <nav class="navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0 shadow">
      <span class="navbar-brand" href="#">Geometriando</span>
    </nav>
    <div class="container-fluid">
      <div class="row">
        <div class="col-6 col-sm-3 col-xl-3 sidebar">
          <ul class="nav flex-column">
            <li class="nav-item">
              <a class="nav-link active" href="javascript:;" onclick="showSection('#descripcion');return false;">
                Descripción del proyecto
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="javascript:;" onclick="showSection('#cuerpos-geometricos');return false;">
                Cuerpos Geométricos
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="javascript:;" onclick="showSection('#caracteristicas-de-los-solidos');return false;">
                Características de los sólidos
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="javascript:;" onclick="showSection('#areas-y-volumenes-de-los-solidos');return false;">
                Áreas y volumenes de los sólidos
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="javascript:;" onclick="showSection('#repaso');return false;">
                Repaso
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="javascript:;" onclick="showSection('#solidos-animados-a-volumenes');return false;">
                Sólidos animados a volumenes
              </a>
            </li>
            <li class="nav-item">
              <span>
                Ejercicios interactivos
              </span>
              <ul>
                  <li>
                    <a class="nav-link" href="javascript:;" onclick="showSection('#ejercicios-de-areas-perimetro-superficie-y-volumen');return false;">
                      Ejercicios de área, perímetro, superficie y volumen
                    </a>
                  </li>
                  <li>
                    <a class="nav-link" href="javascript:;" onclick="showSection('#ejercicios-sobre-figuras');return false;">
                      Ejercicios sobre figuras
                    </a>
                  </li>
              </ul>
            </li>
            <li class="nav-item">
              <span>
                Videos
              </span>
              <ul>
                  <li>
                    <a class="nav-link" href="javascript:;" onclick="showSection('#conceptos-basicos-geometria');return false;">
                      Conceptos básicos geometría
                    </a>
                  </li>
                  <li>
                    <a class="nav-link" href="javascript:;" onclick="showSection('#formulas-de-areas-y-perimetros');return false;">
                      Fórmulas de áreas y perímetros
                    </a>
                  </li>
                  <li>
                    <a class="nav-link" href="javascript:;" onclick="showSection('#prismas');return false;">
                      Prismas
                    </a>
                  </li>
                  <li>
                    <a class="nav-link" href="javascript:;" onclick="showSection('#catetos');return false;">
                      Catetos
                    </a>
                  </li>
              </ul>
            </li>
            <li class="nav-item">
              <span>
                Encuestas
              </span>
              <ul>
                  <li>
                    <a class="nav-link" href="javascript:;" onclick="showSection('#encuesta-grado-7');return false;">
                      Encuesta Grado 7
                    </a>
                  </li>
                  <li>
                    <a class="nav-link" href="javascript:;" onclick="showSection('#encuesta-grado-9');return false;">
                      Encuesta Grado 9
                    </a>
                  </li>
              </ul>
            </li>
          </ul>
        </div>
        <div class="col-6 col-sm-9 col-xl-9 offset-6 offset-sm-3 offset-xl-3">
          <div id="descripcion" class="content">
            <h1><strong>Descripción del proyecto</strong></h1>
            <p>Geometriando es una plataforma en línea en la que puedes complementar el aprendizaje la geometría y está diseñada especialmente para los estudiantes de la IED Prado Veraniego.</p>
            <img src='./assets/img/jackson-jost-RMynbTjDu_g-unsplash.jpeg' class="img-description"/>
          </div>

          <div id="cuerpos-geometricos" class="content d-none">
            <h1><strong>Cuerpos Geométricos</strong></h1>
            <br/>
            <iframe src="./assets/pdfs/cuerpos-geometricos.pdf" class="pdf-container"> </iframe>
          </div>

          <div id="caracteristicas-de-los-solidos" class="content d-none">
            <h1><strong>Características de los sólidos</strong></h1>
            <br/>
            <iframe src="./assets/pdfs/caracteristicas-de-los-solidos.pdf" class="pdf-container"> </iframe>
          </div>

          <div id="areas-y-volumenes-de-los-solidos" class="content d-none">
            <h1><strong>Áreas y volumenes de los sólidos</strong></h1>
            <br/>
            <iframe src="./assets/pdfs/areas-y-volumenes-de-los-solidos.pdf" class="pdf-container"> </iframe>
          </div>

          <div id="repaso" class="content d-none">
            <h1><strong>Repaso</strong></h1>
            <br/>
            <iframe src="./assets/pdfs/repaso.pdf" class="pdf-container"> </iframe>
          </div>

          <div id="solidos-animados-a-volumenes" class="content d-none">
            <h1><strong>Sólidos animados a volumenes</strong></h1>
            <br/>
            <iframe src="./assets/pdfs/solidos-animados-a-volumenes.pdf" class="pdf-container"> </iframe>
          </div>

          <div id="ejercicios-de-areas-perimetro-superficie-y-volumen" class="content d-none">
            <h1><strong>Ejercicios de área, perímetro, superficie y volumen</strong></h1>
            <br/>
            <iframe src="https://www.thatquiz.org/es-4/matematicas/geometria/" class="pdf-container"> </iframe>
          </div>

          <div id="ejercicios-sobre-figuras" class="content d-none">
            <h1><strong>Ejercicios sobre figuras</strong></h1>
            <br/>
            <iframe src="https://www.thatquiz.org/es-f/matematicas/figuras/" class="pdf-container"> </iframe>
          </div>

          <div id="conceptos-basicos-geometria" class="content d-none">
            <h1><strong>Conceptos básicos geometría</strong></h1>
            <br/>
            <iframe id='video-conceptos-basicos-geometria' src="https://www.youtube.com/embed/f3dLvwE8RIM" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen class="pdf-container"> </iframe>
          </div>

          <div id="formulas-de-areas-y-perimetros" class="content d-none">
            <h1><strong>Fórmulas de áreas y perímetros</strong></h1>
            <br/>
            <iframe id='video-formulas-de-areas-y-perimetros' src="https://www.youtube.com/embed/XZgBePlssiw" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen class="pdf-container"> </iframe>
          </div>

          <div id="prismas" class="content d-none">
            <h1><strong>Prismas</strong></h1>
            <br/>
            <iframe id='video-prismas' src="https://www.youtube.com/embed/K1SONSUwXAg" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen class="pdf-container"> </iframe>
          </div>

          <div id="catetos" class="content d-none">
            <h1><strong>Catetos</strong></h1>
            <br/>
            <iframe id='video-catetos' src="https://www.youtube.com/embed/tWZ-17wRNMM" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen class="pdf-container"> </iframe>
          </div>

          <div id="encuesta-grado-7" class="content d-none">
            <h1><strong>Encuesta Grado 7</strong></h1>
            <br/>
            <iframe src="https://docs.google.com/forms/d/e/1FAIpQLScXwbT2lgNyi81DNSCypsbYlX9Vp0Fj-n7fhjPsT08kx_ZYRw/viewform?embedded=true" class="pdf-container">Cargando...</iframe>
          </div>

          <div id="encuesta-grado-9" class="content d-none">
            <h1><strong>Encuesta Grado 9</strong></h1>
            <br/>
            <iframe src="https://docs.google.com/forms/d/e/1FAIpQLSdD2b8feznBnrVWrNGO0iqjno9VBHvjG6EkFkoXYF9f08Jb8A/viewform?embedded=true" class="pdf-container">Cargando...</iframe>
          </div>

        </div>
      </div>
    </div>

    <!-- Modal -->
    <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Geometriando</h5>
          </div>
          <div class="modal-body">
            <p>Antes de entrar, necesitamos un par de datos:</p>
            <div class="form-group">
              <label for="InputName"><strong>Nombres y Apellidos</strong></label>
              <input type="text" class="form-control" id="InputName" placeholder="Escribe tus nombres y apellidos aquí">
              <div class="invalid-feedback">
                Este campo debe tener al menos 9 letras
              </div>
            </div>
            <div class="form-group">
              <label for="InputYear"><strong>Grado</strong></label>
              <input type="text" class="form-control" id="InputYear" placeholder="Escribe tu grado. Por ejemplo, 9">
              <div class="invalid-feedback">
                Este campo debe tener solo números
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" id="loginButton" class="btn btn-primary">ENTRAR</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Including Bootstrap JS (with its jQuery dependency) so that dynamic components work -->
    <!-- JS, Popper.js, and jQuery -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
    <script>
      function showSection(section) {
        console.log(section)
        $('.content').addClass("d-none")
        $(section).removeAttr('class').attr('class', 'content')
        $( '#video-conceptos-basicos-geometria' ).attr( 'src', function ( i, val ) { return val })
        $( '#video-formulas-de-areas-y-perimetros' ).attr( 'src', function ( i, val ) { return val })
        $( '#video-prismas' ).attr( 'src', function ( i, val ) { return val })
        $( '#video-catetos' ).attr( 'src', function ( i, val ) { return val })
        $.ajax({
          type: "POST",
          url: "https://api.curubagram.com/geometriando_event",
          dataType: 'json',
          contentType: 'application/json',
          context: document.body,
          success: function(result) {
            $('#loginButton').removeAttr('disabled')
          },
          data: JSON.stringify({
            'usuario': localStorage.getItem('usuario'),
            'grado': localStorage.getItem('grado'),
            'evento': section
          })
        })
      }

      function validate_fields() {
        InputName = $('#InputName')
        InputYear = $('#InputYear')
        InputName.removeClass('is-invalid')
        InputYear.removeClass('is-invalid')
        let flag = true

        if (InputName.val().length < 9) {
          InputName.addClass('is-invalid')
          flag = false
        }

        if (isNaN(InputYear.val()) || InputYear.val().length == 0) {
          InputYear.addClass('is-invalid')
          flag = false
        }

        return flag
      }

      $( document ).ready(function() {
        console.log(localStorage.getItem('usuario'))
        if (localStorage.getItem('usuario') == null) {
          $('#exampleModal').modal({
              backdrop: 'static',
              keyboard: false
          })
          $('#exampleModal').modal('show')
        }

        $('#loginButton').on('click', function() {
          console.log('ENTRA')
          $('#loginButton').attr('disabled','')
          valid_fields = validate_fields()
          if (valid_fields) {
            localStorage.setItem('usuario', $('#InputName').val())
            localStorage.setItem('grado', $('#InputYear').val())
            $.ajax({
              type: "POST",
              url: "https://api.curubagram.com/geometriando_event",
              dataType: 'json',
              contentType: 'application/json',
              context: document.body,
              success: function(result) {
                $('#loginButton').removeAttr('disabled')
                $('#exampleModal').modal('hide')
              },
              error: function(e) {
                $('#loginButton').removeAttr('disabled')
              },
              data: JSON.stringify({
                'usuario': $('#InputName').val(),
                'grado': $('#InputYear').val(),
                'evento': 'Login'
              })
            })
          }
        })
      })
    </script>
  </body>
</html>